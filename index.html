<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>G√©n√©rateur de signature Humanea</title>
<style>
    body { font-family: Poppins, Arial, sans-serif; margin: 30px; max-width: 700px; }
    input, select { width: 100%; padding: 8px; margin: 6px 0; border: 1px solid #ccc; border-radius: 6px; }
    button { background-color: #7C1653; color: white; padding: 8px 15px; border: none; border-radius: 6px; cursor: pointer; margin-top: 10px; }
    button:hover { background-color: #5f1041; }
    #result { margin-top: 20px; white-space: pre-wrap; font-family: monospace; background: #f9f9f9; padding: 15px; border-radius: 8px; }
    #preview { margin-top: 20px; border: 1px solid #ccc; padding: 15px; }
    .hidden { display: none; }
</style>
</head>
<body>
<h2>üñãÔ∏è G√©n√©rateur de signature Humanea</h2>
<p>Renseignez vos informations ci-dessous :</p>

<label>Pr√©nom :</label>
<input id="prenom" placeholder="Jean">

<label>Nom :</label>
<input id="nom" placeholder="Dupont">

<label>Poste :</label>
<select id="fonctionSelect" onchange="updateFonction()">
  <option value="">-- S√©lectionnez --</option>
  <option value="veterinaire">Docteur v√©t√©rinaire</option>
  <option value="asv">Auxiliaire sp√©cialis√© v√©t√©rinaire</option>
  <option value="autre">Autre</option>
</select>

<div id="titreDiv" class="hidden">
    <label>Titre(s) :</label>
    <input id="titres" placeholder="DMV, MSc, Dipl. ECVD">
</div>

<div id="ligneLibreDiv" class="hidden">
    <label>Ligne libre :</label>
    <input id="ligneLibre" placeholder="Assistant en chirurgie / Ancien interne de l'ENVT">
</div>

<div id="autreRoleDiv" class="hidden">
  <label>Pr√©cisez votre r√¥le :</label>
  <input id="autreRole" placeholder="Responsable administratif, stagiaire, etc.">
</div>

<div id="veterinaireDetails" class="hidden">
  <label>Statut v√©t√©rinaire :</label>
  <select id="statutSpecialisation" onchange="updateSpecialisation()">
    <option value="">V√©t√©rinaire g√©n√©raliste</option>
    <option value="spec-fr">Sp√©cialiste fran√ßais</option>
    <option value="spec-eur">Sp√©cialiste europ√©en (EBVS)</option>
  </select>

  <div id="specialiteDiv" class="hidden">
    <label>Sp√©cialit√© :</label>
    <input id="specialite" placeholder="Dermatologie, chirurgie, m√©decine interne...">
  </div>
</div>

<button onclick="generer()">G√©n√©rer ma signature üôÇ</button>
<button onclick="copierHTML()">Copier le code HTML</button>

<div id="preview"></div>
<div id="result"></div>

<script>
function updateFonction() {
  const fSelect = document.getElementById('fonctionSelect').value;
  
  document.getElementById('veterinaireDetails').classList.add('hidden');
  document.getElementById('autreRoleDiv').classList.add('hidden');
  document.getElementById('titreDiv').classList.add('hidden');
  document.getElementById('ligneLibreDiv').classList.add('hidden');

  // R√©initialisation des champs invisibles
  document.getElementById('titres').value = "";
  document.getElementById('ligneLibre').value = "";
  document.getElementById('autreRole').value = "";
  document.getElementById('specialite').value = "";
  document.getElementById('statutSpecialisation').value = "";

  if (fSelect === 'veterinaire') {
    document.getElementById('veterinaireDetails').classList.remove('hidden');
    document.getElementById('titreDiv').classList.remove('hidden');
    document.getElementById('ligneLibreDiv').classList.remove('hidden');
  } else if (fSelect === 'autre') {
    document.getElementById('autreRoleDiv').classList.remove('hidden');
  }
}

function updateSpecialisation() {
  const statut = document.getElementById('statutSpecialisation').value;
  const specialiteDiv = document.getElementById('specialiteDiv');
  if (statut === 'spec-fr' || statut === 'spec-eur') {
    specialiteDiv.classList.remove('hidden');
  } else {
    specialiteDiv.classList.add('hidden');
  }
}

function formatNom(nom) {
  return nom.toUpperCase();
}

function formatPrenom(prenom) {
  if (!prenom) return "";
  return prenom.charAt(0).toUpperCase() + prenom.slice(1).toLowerCase();
}

function generer() {
  const prenom = formatPrenom(document.getElementById('prenom').value || "Jean");
  const nom = formatNom(document.getElementById('nom').value || "DUPONT");
  const titres = document.getElementById('titres').value || "";
  const ligneLibre = document.getElementById('ligneLibre').value || "";

  let fonction1 = "";
  let fonction2 = "";
  let ebvs = "";

  const choix = document.getElementById('fonctionSelect').value;

  if (choix === "veterinaire") {
    fonction1 = "Docteur v√©t√©rinaire";
    const statut = document.getElementById('statutSpecialisation').value;
    const specialite = (document.getElementById('specialite').value || "").toLowerCase();

    if (statut === "spec-fr") {
      fonction2 = "Sp√©cialiste";
    } else if (statut === "spec-eur" && specialite) {
      fonction2 = `Sp√©cialiste europ√©en en ${specialite}`;
      ebvs = `<p style="font-size:11px;margin:0;line-height:1;">EBVS<sup>¬Æ</sup> European Board of Veterinary Specialisation</p>`;
    } else if (statut === "spec-eur") {
      fonction2 = "Sp√©cialiste europ√©en";
      ebvs = `<p style="font-size:11px;margin:0;line-height:1;">EBVS<sup>¬Æ</sup> European Board of Veterinary Specialisation</p>`;
    }
  } else if (choix === "asv") {
    fonction1 = "Auxiliaire sp√©cialis√© v√©t√©rinaire";
  } else if (choix === "autre") {
    fonction1 = document.getElementById('autreRole').value || "Membre de l'√©quipe Humanea";
  }

  // Email g√©n√©r√© automatiquement
  const email = `${prenom.charAt(0).toLowerCase()}.${nom.toLowerCase()}@humanea-veterinaire.fr`;

  const html = `<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<style>body,table{font-family:'Poppins',Arial,sans-serif;}</style>
</head>
<body>
<table width="600" cellspacing="0" cellpadding="0" border="0" style="border-collapse:collapse;">
<tr>
<td width="50%" valign="middle" style="padding-right:10px;">
<p style="font-size:18px;font-weight:bold;margin:0 0 2px 0;line-height:1;">${prenom} ${nom}</p>
${titres ? `<p style="color:#7C1653;font-weight:bold;margin:0 0 8px 0;line-height:1;">${titres}</p>` : ""}
<p style="font-size:11px;margin:0 0 4px 0;line-height:1;">${fonction1}</p>
${ligneLibre ? `<p style="font-size:11px;margin:0 0 2px 0;line-height:1;">${ligneLibre}</p>` : ""}
${fonction2 ? `<p style="font-size:11px;margin:0 0 2px 0;line-height:1;">${fonction2}</p>` : ""}
${ebvs}
<div style="text-align:center; padding-top:10px; padding-bottom:15px;">
<img src="https://www.locomotiv.com/wp-content/uploads/2025/02/humanea-logo-horizontal.png" width="200" alt="Humanea">
</div>
</td>
<td width="50%" valign="top" style="border-left:2px solid #7C1653;padding-left:15px;padding-top:10px;">
<table cellspacing="0" cellpadding="0" border="0">
<tr>
<td><img src="https://www.locomotiv.com/wp-content/uploads/2025/02/4-1.png" width="15" style="vertical-align:middle;"></td>
<td style="padding-left:5px;"><a href="https://www.humanea-veterinaire.fr" style="color:black;text-decoration:none;font-size:11px;">www.humanea-veterinaire.fr</a></td>
</tr>
<tr>
<td><img src="https://www.locomotiv.com/wp-content/uploads/2025/02/6-1.png" width="15" style="vertical-align:middle;"></td>
<td style="padding-left:5px;"><a href="mailto:${email}" style="color:black;text-decoration:none;font-size:11px;">${email}</a></td>
</tr>
<tr>
<td><img src="https://www.locomotiv.com/wp-content/uploads/2025/02/8.png" width="15" style="vertical-align:middle;"></td>
<td style="padding-left:5px;"><a href="tel:0535542594" style="color:black;text-decoration:none;font-size:11px;">05 35 54 25 94</a></td>
</tr>
<tr>
<td><img src="https://www.locomotiv.com/wp-content/uploads/2025/02/2-1.png" width="15" style="vertical-align:middle;"></td>
<td style="padding-left:5px;"><a href="https://maps.app.goo.gl/rEfsbyXU7ka9QKxG9" style="color:black;text-decoration:none;font-size:11px;">4, rue Georges-J√©r√¥me Duret, 33310 Lormont</a></td>
</tr>
</table>
<p style="margin:15px 0 0 0;text-align:left;">
<a href="https://www.facebook.com/people/Humanea-V%C3%A9t%C3%A9rinaire/61572819887899/"><img src="https://www.locomotiv.com/wp-content/uploads/2025/02/10.png" width="20"></a>
<a href="https://www.linkedin.com/company/humanea-veterinaire/"><img src="https://www.locomotiv.com/wp-content/uploads/2025/02/12.png" width="20"></a>
<a href="https://www.instagram.com/humanea_veterinaire/"><img src="https://www.locomotiv.com/wp-content/uploads/2025/02/14.png" width="20"></a>
</p>
</td>
</tr>
</table>
</body>
</html>`;

  document.getElementById('result').innerText = html;
  document.getElementById('preview').innerHTML = html;
}

function copierHTML() {
  const result = document.getElementById('result').innerText;
  navigator.clipboard.writeText(result).then(() => {
    alert("Code HTML copi√© dans le presse-papier !");
  });
}
</script>
</body>
</html>